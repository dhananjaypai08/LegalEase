{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.2/dist/chart.min.js"></script>
    <!-- Use cdn to use plotly -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <!-- Enabling bootstrap for layout design -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="icon"
      href="https://booleanstrings.com/wp-content/uploads/2020/10/252-2522131_edu-huddle-culture-diversity-icon-png.png"
      type="image/icon type"
    />
    <title>{{title}}</title>
  </head>
  <body style="background-color: #ffe6ea">
    <nav
      class="navbar navbar-expand border-bottom border-bottom-dark rounded"
      style="background-color: #ffe6ea"
    >
      <div class="container-fluid" style="font-family: Roobert, serif">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="#">
              <img
                class="img-thumbnail"
                src="{% static 'images/image1.jpg' %}"
                alt="Thumbnail image"
                height="50"
                width="50"
              />
            </a>
          </li>
        </ul>
        <a
          class="navbar-brand"
          href="/"
          style="text-shadow: 2px 2px 2px #1c6ea4; margin-left: 10px"
          ><b>LegalEase</b></a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto">
            {% if title == 'Login' or msg == 'Register' %}
            <li class="nav-item">
              <a
                class="nav-link disabled"
                aria-disabled="true"
                aria-current="page"
                href="/prompt"
                >ChatUI-Simplify LegalDocs</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link disabled"
                aria-disabled="true"
                aria-current="page"
                href="/custom"
                >AI Generated Docs</a
              >
            </li>
            {% else %}
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/prompt"
                >ChatUI- Simplify Legal Docs</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/custom"
                >AI Generated Docs</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="http://127.0.0.1:8050/"
                >Raise Query</a
              >
            </li>
            {% endif %} {% if title == 'Login' or title == 'Register' %}
            <li class="nav-item">
              <a
                class="nav-link disabled"
                aria-disabled="true"
                aria-current="page"
                href="/logout/"
                >Logout</a
              >
            </li>
            {% else %}
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="profileDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <img
                  class="img-thumbnail"
                  src="https://tse4.mm.bing.net/th?id=OIP._VoTfUzENldEmDbFEcQi4QHaHa&pid=Api&P=0&h=180"
                  height="30"
                  width="40"
                  alt="Thumbnail image"
                />
              </a>
              <ul
                class="dropdown-menu dropdown-menu-end"
                aria-labelledby="profileDropdown"
              >
                <li><a class="dropdown-item" href="/logout/">Logout</a></li>
              </ul>
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>

    <div class="container mt-3">{% block content %} {% endblock content %}</div>
  </body>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const profileDropdown = document.getElementById("profileDropdown");
      profileDropdown.addEventListener("click", function () {
        const dropdownMenu = document.querySelector(".dropdown-menu");
        dropdownMenu.classList.toggle("show");
      });
    });
  </script>
</html>

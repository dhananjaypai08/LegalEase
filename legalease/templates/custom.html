{% extends 'partials/base.html' %}
{% load static %}
{% block content %}

<div class="container" style="text-align:center; font-family: Roobert,serif;">
  {% if changed %}
  <div class="alert alert-success" role="alert">
    <strong>Wohoo!</strong> 
    Changes Done.
  </div>
  {% endif %}
    {% if import_form %}
    <form action="/custom/" class="mt-5" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="file" name="data" placeholder="Import Data" required>
        <button type="submit" class="btn btn-outline text-white" style="background-color: #000000;">Import</button>
    </form>
    {% endif %}
    {% if edit %}

    <div class="container rounded">

    <form action="/custom/" method="POST">
    {% csrf_token %}
    <button type="submit" class="btn btn-sm mt-3 text-white" style="background-color: #000000;">Save</button>
    <input type="hidden" name="num_rows" value="{{ imported_data.id|length }}">
    <table class="mt-3" name="table">
        <tr>
          {% for col in imported_data.columns %}
            <td>
              <h6>{{col}}</h6>
            </td>
            
          {% endfor %}
        </tr>
          {% for index, row in imported_data.iterrows %}
            <tr>
                {% comment %} <input type="text" name="{{index}}" class="form-control" id="formGroupExampleInput2" placeholder="" value="{{row}}"> {% endcomment %}
              {% for cell in row %}
                <td>
                    <input type="text" name="data[{{index}}]" class="form-control" id="formGroupExampleInput2" placeholder="" value="{{cell}}">
                    
                </td>
                
              {% endfor %}
            </tr>
            
          {% endfor %}

      </table>
      
    </form>

    </div>
    {% elif button %}
    <div class="container mt-3 rounded">
        <form action="/custom/" method="POST">
            {% csrf_token %}
            <button type="submit" class="btn btn-sm text-white" style="background-color: #000000;">Edit</button>
        </form>
        <table>
            <tr>
              {% for col in imported_data.columns %}
                <td>
                  <h6>{{col}}</h6>
                </td>
              {% endfor %}
            </tr>
              {% for index, row in imported_data.iterrows %}
                <tr>
                  {% for cell in row %}
                    <td>
                      {{cell}}
                    </td>
                  {% endfor %}
                </tr>
              {% endfor %}
          </table>
    </div>
    {% endif %}
</div>


<footer class="small rounded mt-5" style="background-color: #FFCCCC; font-family: Roobert,serif;">
  <div class="container py-3 py-sm-5">
    <div class="row">
      <div class="col-12 col-sm-6 col-md-3">
        <h6>Quick links</h6>
        <ul class="list-unstyled">
          <li><a href="/">Home</a></li>
          <li><a href="custom">Custom Analysis</a></li>
          <li><a href="/prompt">Chat with Data</a></li>
        </ul>
      </div>
      <div class="col-12 col-sm-6 col-md-3">
        <h6>Information</h6>
        <ul class="list-unstyled">
          <li><a href="#">About us</a></li>
          <li><a href="#">Membership</a></li>
          <li><a href="https://www.linkedin.com/in/dhananjay-pai/">Contact</a></li>
        </ul>
      </div>
      <div class="col-12 col-sm-6 col-md-3">
        <h6>Follow us</h6>
        <ul class="list-unstyled">
          <li><a href="#">Facebook</a></li>
          <li><a href="#">Twitter</a></li>
          <li><a href="#">Instagram</a></li>
          <li><a href="#">LinkedIn</a></li>
        </ul>
      </div>
      <div class="col-12 col-sm-6 col-md-3">
        <address>
          <strong>Mumbai</strong><br />
          Chembur<br />
          Collectors Colony, Maharashtra<br />
          <abbr title="Telephone">Contact :</abbr
          ><a href="tel:+917738959108">+91 7738959108</a><br />
          <abbr title="Mail">Mail :</abbr
          ><a href="mailto:dhananjay2002pai@gmail.com">dhananjay2002pai@gmail.com</a>
        </address>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-sm-6 col-md-9">
        <ul class="list-inline">
          <li class="list-inline-item">&copy; 2023 Web Company, Inc.</li>
          <li class="list-inline-item">All rights reserved.</li>
          <li class="list-inline-item">
            <a href="#">Terms of use and privacy policy</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>
{% endblock %}